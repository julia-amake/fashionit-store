# entities

Слой абстрактных бизнес-сущностей, с которыми работает проект, над которыми производятся какие-то действия. Например: User, Product, Order.

Здесь определены интерфейсы сущности, то как эти сущности хранятся (сторы) и методы для работы с этими данными (базовая CRUD-логика, которая не требует взаимодействия с другими сущностями).

---

## Структура
Entities делится на слайсы, а слайсы на сегменты.

### Слайсы
Можно называть слайсы как угодно, и создавать их сколько угодно. Слайсы помогают не теряться в проекте, потому что группируют тесно связанный по смыслу код.

Слайсы не могут использовать другие слайсы на том же слое, и это обеспечивает сильную связанность кода внутри слайса и слабую сцепленность между слайсами.

### Сегменты
Группируют код по его назначению. Имена сегментов не зафиксированы стандартом, но существует несколько общепринятых имен для наиболее распространенных целей:

`ui` — все, что связано с отображением: UI-компоненты, форматтеры дат, стили и т.д.

`api` — взаимодействие с сервером: функции запросов, типы данных, мапперы

`model` — модель данных: схемы валидации, интерфейсы, хранилища и бизнес-логика

`lib` — общие функции и утилиты, которые нужны другим модулям этого слайса

`config` — файлы конфигурации и фича-флаги

> Обычно этих сегментов достаточно, но можно создавать свои собственные.

---

## Особенности
- Запрещены импорты из вышележащих слоев _(исключение — типы, в крайнем случае, их можно импортировать напрямую или через d.ts)_
- Сущности не должны зависеть друг от друга напрямую, т.е. запрещены кросс-импорты между слайсами — связь осуществляется только на верхних слоях
- Описываются в терминах бизнеса (Domains)
- Не нужно большую сущность дробить на более мелкие, сущность должна быть независимой, а мелкие части — это части одной цельной сущности
- Абстрактные переиспользуемые ui-компоненты
- Контролируют инварианты только в рамках своего сегмента
